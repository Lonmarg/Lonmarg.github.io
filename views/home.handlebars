<h1 class="text-center mb-3">40K Tabletop Game Squad Constructor</h1>

<br>

<div class="PageBar">
	<a href="/">Home | </a>
	<a href="/sergeants">Admin: Sergeants | </a>
	<a href="/spacemarines">Admin: Space Marines | </a>
	<a href="/equipments">Admin: Equipments</a>
</div>

<br>

<p1>***This page is our main page. It represents where a normal user would construct their army list. They may add and
	Remove
	entire lists, add and remove squads from specific lists, and add or remove Space Marines from individual squads. In
	addition,
	they are able to change their Sergeants Equipments as well as their Space Marines Equipmints.

	{{headertext}}
</p1>

<br>

<h4>My Army Lists:{{subtitle}}</h4>
<ul class="list-group">{{!-- ARMY LIST FORM --}}
	{{#each armylists}}
	<li class="list-group-item border border-primary">
		<form action="/" method="post" class="py-2">
			<div class="form-inline row justify-content-md-left">
				<div class="form-group">
					<input type="hidden" name="id" value={{this.id}}>
					<input type="submit" name="removeArmylist" value="-" class="btn btn-primary col-md-auto">
					<input type="text" name="armyName" value="{{this.name}}" class="form-control col-md-auto">
					<h4 class=" col-md-auto">Squads: {{this.numAssaultSquads}}</h4>
					<h4 class=" col-md-auto">Cost: {{this.point_total}}</h4>
					<input type="submit" name="updateArmylist" value="Update" class="btn btn-primary col-md-auto">
				</div>
			</div>
		</form>
		<ul class="list-group">{{!-- SQUAD FORM --}}
			{{#each this.assaultsquads}}
			<li class="list-group-item border border-secondary">
				<form action="/" method="post" class="py-2">
					<div class="form-inline row justify-content-md-left">
						<div class="form-group">
							<input type="hidden" name="id" value="{{this.id}}">
							<input type="submit" name="removeAssaultSquad" value="-"
								class="btn btn-primary col-md-auto">
							<input type="text" name="squadName" value="{{this.name}}" class="form-control col-md-auto">
							{{!-- NOTE: THIS NEEDS TO SOMEHOW BE UPDATED TO REPRESENT THE ADDITION OF SERGEANTS AS WELL --}}
							<h4 class="col-md-auto">Members: {{this.space_marines_count}} </h4>
							{{!-- NOTE: THIS NEEDS SOME BACKEND WORK TO CALCULATE THE TOTAL POINT COST PER SQUAD --}}
							<h4 class="col-md-auto">Cost: x</h4>
							<div class="custom-control custom-switch col-md-auto ">
								<input type="checkbox" class="custom-control-input"
									{{#if this.hasjumppacks}}checked{{/if}} id="jumppacks{{this.id}}">
								<label class="custom-control-label" for="jumppacks{{this.id}}">
									<h4>Jumppacks</h4>
								</label>
							</div>
							<input type="submit" name="updateAssaultSquad" value="Update"
								class="btn btn-primary col-md-auto">
						</div>
					</div>
				</form>
				<ul class="list-group">
					{{!-- CHANGE THIS TO AN IF this.sergeants AND OFFER TO ADD ONE IF THERE ARE NONE --}}
					{{#each this.sergeants}}
					<li class="list-group-item border border-primary">{{!-- SERGEANT SECTION --}}
						<h5 class="d-flex flex-row">Sergeant</h5>
						<table class="table table-hover table-dark table-striped">{{!-- SERGEANT EQIPMENT TABLE --}}
							<h6 class="d-flex flex-row">Sergeant's Equipment{{possibleSergeantWeapons}}</h6>
							<tbody>
								<tr>
									<th scope="row">ID</th>
									<th scope="row">Name</th>
									<th scope="row">Equipment 1</th>
									<th scope="row">Equipment 2</th>
									<th scope="row">Point Cost</th>
									<th scope="row">Update</th>
								</tr>
								<tr>
									<form action="/" method="post" class="py-2">
										<input type="hidden" name="id" value="{{this.id}}">
										<td>{{this.id}}</td>
										<td><input type="text" name="sergeantName" value="{{this.name}}"
												class="form-control"></td>
										{{#each this.weapons}}
										<td>
											{{!-- DOES NOT WORK. SOLUTION MAY BE HERE https://gist.github.com/LukeChannings/6173ab951d8b1dc4602e --}}
											{{!-- THIS MAY ALSO BE A SOLUTION, BUT IT'S NOT MY FAVORITE https://www.youtube.com/watch?v=HMehtL39VUQ --}}
											<select class="custom-select mr-sm-2" id="weaddpon1">
												<option selected>{{this.name}}</option>
												<option value="99">test</option>
												{{#each possibleSergeantWeapons}}
												<option value="{{this.id}}">{{this.name}}</option>
												{{/each}}
											</select>
										</td>
										{{/each}}
										<td>{{this.point_cost}}</td>
										<td><input type="submit" name="updateSergeant" value="Update"
												class="btn btn-primary"></td>
									</form>
								</tr>
							</tbody>
						</table>
						<table class="table table-hover table-dark table-striped">
							{{!-- SERGEANT SPECIAL EQUIPMENT TABLE --}}
							<h6>Sergeant's Special Equipment</h6>
							<tbody>
								<tr>
									<th scope="row">Add/Remove</th>
									<th scope="row">ID</th>
									<th scope="row">Special Equipment</th>
									<th scope="row">Point Cost</th>
								</tr>
								{{#if this.specials}}
								<tr>
									{{#each this.specials}}
									<form action="/" method="post" class="">
										<div class="form-group">
											<input type="hidden" name="id" value="{{this.id}}">
											<td><input type="submit" name="removeSpecialWeapon" value="-"
													class="btn btn-primary"></td>
											<td>{{this.id}}</td>
											<td>
												<select class="custom-select mr-sm-2" id="weaddpon1">
													<option selected>{{this.name}}</option>
													<option value="99">test</option>
													{{#each possibleSpecialWeapons}}
													<option value="{{this.id}}">{{this.name}}</option>
													{{/each}}
												</select>
											</td>
											<td>{{this.point_cost}}</td>
										</div>
									</form>
									{{/each}}
								</tr>
								{{/if}}
								<tr>{{!-- ADD SPECIAL EQUIPMENT --}}
									<form action="/" method="post" class="">
										<div class="form-group">
											<td>
												<div class="btn-group ">
													<input type="button" name="+SpecEquip" value="+"
														class="btn btn-primary">
												</div>
											</td>
											<td>--</td>
											<td>
												<select class="custom-select mr-sm-2" id="weaddpon1">
													<option selected>New Special Weapon</option>
													<option value="99">test</option>
													{{#each possibleSpecialWeapons}}
													<option value="{{this.id}}">{{this.name}}</option>
													{{/each}}
												</select>
											</td>
											<td>--</td>
											<td></td>
										</div>
									</form>
								</tr>
							</tbody>
						</table>
					</li>
					{{/each}}
					<li class="list-group-item border border-primary">{{!-- Space Marines SECTION --}}
						<h5 class="d-flex flex-row">Space Marines</h5>
						<table class="table table-hover table-dark table-striped">{{!-- Space Marines TABLE --}}
							<tbody>
								<tr>
									<th scope="row">Add/Remove</th>
									<th scope="row">ID</th>
									<th scope="row">Equipment 1</th>
									<th scope="row">Equipment 2</th>
									<th scope="row">Point Cost</th>
									<th scope="row">Update</th>
								</tr>
								{{#each this.spacemarines}}
								<tr>
									<form action="/" method="post" class="py-2">
										<td><input type="button" name="removeSpaceMarine" value="-"
												class="btn btn-primary"></td>
										<td>{{this.id}}</td>
										{{#each this.weapons}}
										<td>
											<select class="custom-select mr-sm-2" id="weapon1">
												<option selected>{{this.name}}</option>
												<option value="3">test</option>
												{{#each context.possibleSpecialWeapons}}
												<option value="{{this.id}}">{{this.name}}</option>
												{{/each}}
											</select>
										</td>
										{{/each}}
										<td>{{this.point_cost}}</td>
										<td><input type="button" name="update" value="Update" class="btn btn-primary">
										</td>
									</form>
								</tr>
								{{/each}}
								<tr>{{!-- ADD SPACE MARINES --}}
									<form action="/" method="post" class="py-2">
										<td><input type="button" name="addSpaceMarine" value="+"
												class="btn btn-primary"></td>
										<td>--</td>
										<td>
											<select class="custom-select mr-sm-2" id="weapon1">
												{{#each context.possibleBasicWeapons}}
												<option value="{{this.id}}">{{this.name}}</option>
												{{/each}}
											</select>
										</td>
										<td>
											<select class="custom-select mr-sm-2" id="weapon1">
												{{#each context.possibleBasicWeapons}}
												<option value="{{this.id}}">{{this.name}}</option>
												{{/each}}
											</select>
										</td>
										<td>--</td>
										<td></td>
									</form>
								</tr>
							</tbody>
						</table>
					</li>
				</ul>
			</li>
			{{/each}}
			<li class="list-group-item border border-secondary">{{!-- ADD SQUADS --}}
				<form action="/" method="post" class="py-2">
					<div class="form-inline row justify-content-md-left">
						<div class="form-group">
							<input type="submit" name="addAssaultSquad" value="+" class="btn btn-primary col-md-auto">
							<input type="text" name="squadName" value="New Squad Name" class="form-control col-md-auto">
							<h4 class="col-md-auto">Members: -- </h4>
							<h4 class="col-md-auto">Cost: --</h4>
							<div class="custom-control custom-switch col-md-auto">
								<input type="checkbox" class="custom-control-input" id="newjumppacks{{this.id}}">
								<label class="custom-control-label" for="newjumppacks{{this.id}}">
									<h4>Jumppacks</h4>
								</label>
							</div>
						</div>
					</div>
				</form>
			</li>
		</ul>
	</li>
	{{/each}}
	<li class="list-group-item border border-primary">{{!-- ADD TO ARMYLIST --}}
		<form action="/" method="post" class="py-2">
			<div class="form-inline row justify-content-md-left">
				<div class="form-group">
					<input type="submit" name="addArmylist" value="+" class="btn btn-primary col-md-auto">
					<input type="text" name="armyName" class="form-control" value="New Army Name">
					<h4 class=" col-md-auto">Squads: --</h4>
					<h4 class=" col-md-auto">Cost: --</h4>
				</div>
			</div>
		</form>
	</li>
</ul>